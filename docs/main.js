!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function(){function e(t,n){var i=t.items,r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=i,this._renderer=r,this._container=document.querySelector(n)}var t,n,r;return t=e,(n=[{key:"addnewItem",value:function(e,t){t.after(e)}},{key:"addItem",value:function(e){this._container.append(e)}},{key:"rednerItems",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}}])&&i(t.prototype,n),r&&i(t,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(t,n,i,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._text=t,this._textClass=n,this._element=document.querySelector("#".concat(n)).content.cloneNode(!0),this._textElement=this._element.querySelector(".".concat(n)),this._addTextButton=this._element.querySelector('button[name="text"]'),this._addTitleButton=this._element.querySelector('button[name="title"]'),this._deleteButton=this._element.querySelector('button[name="delete"]'),this._relocateButton=this._element.querySelector('button[name="relocate"]'),this._newTextRenderer=i,this._newTitleRenderer=r,this._removeRenderer=o}var t,n,i;return t=e,(n=[{key:"_addNewText",value:function(e){this._newTextRenderer(e)}},{key:"_addNewTitle",value:function(e){this._newTitleRenderer(e)}},{key:"_deleteElement",value:function(e){e?(this._removeEventListeners(),e.remove()):this._deletedElement&&(this._removeEventListeners(),this._deletedElement.remove()),this._removeRenderer()}},{key:"_removeEventListeners",value:function(){this._addTextButton.removeEventListener("click",this._addTextCallback),this._addTitleButton.removeEventListener("click",this._addTitleCallback),this._deleteButton.removeEventListener("click",this._deleteCallback)}},{key:"_setEventListeners",value:function(){var e=this;this._addTextCallback=function(t){e._addNewText(t)},this._addTitleCallback=function(t){e._addNewTitle(t)},this._deleteCallback=function(t){e._deleteElement(t.target.closest(".section"))},this._addTextButton.addEventListener("click",this._addTextCallback),this._addTitleButton.addEventListener("click",this._addTitleCallback),this._deleteButton.addEventListener("click",this._deleteCallback),this._relocateButton.addEventListener("dragstart",(function(t){e._deletedElement=t.target.closest(".section"),t.dataTransfer.setData("text",e._text),t.dataTransfer.setData("class",e._textClass),t.target.closest(".section").style.opacity="0.4"})),this._relocateButton.addEventListener("dragend",(function(e){e.target.closest(".section").style.opacity="1"}))}},{key:"_setText",value:function(e){this._textElement.textContent=e}},{key:"getTextContainer",value:function(){return this._setText(this._text),this._setEventListeners(),this._element}}])&&o(t.prototype,n),i&&o(t,i),e}();function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c=function(){function e(t,n,i){var r=t.title,o=t.img;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._title=r,this._img=o,this._titleElement=document.querySelector(n),this._iconElement=document.querySelector(i),this._favicon=document.querySelector('link[rel ="shortcut icon"]')}var t,n,i;return t=e,(n=[{key:"setTitle",value:function(e){this._titleElement.textContent=e}},{key:"setTitleImage",value:function(e){/([a-z\-_0-9\/\:\.]*\.(jpg|jpeg|png|gif|svg))/i.test(e)?(this._iconElement.src=e,this._favicon.href=e):(this._iconElement.src=this._iconElement.src,this._favicon.href=this._favicon.src)}},{key:"innitialRender",value:function(){this.setTitle(this._title),this.setTitleImage(this._img)}}])&&l(t.prototype,n),i&&l(t,i),e}(),s={mainTitle:{title:"Правки",img:n.p+"./images/ball.svg"},sections:[{text:"Статья 81",type:"title"},{text:"Положение части 3 статьи 81 Конституции Российской Федерации, ограничивающее число сроков, в течение которых одно и то же лицо может занимать должность Президента Российской Федерации, применяется к лицу, занимавшему и (или) занимающему должность Президента Российской Федерации, без учета числа сроков, в течение которых оно занимало и (или) занимает эту должность на момент вступления в силу поправки к Конституции Российской Федерации, вносящей соответствующее ограничение, и не исключает для него возможность занимать должность Президента Российской Федерации в течение сроков, допустимых указанным положением.",type:"article"},{text:"Статья 93",type:"title"},{text:"Президент Российской Федерации, прекративший исполнение своих полномочий, лишен неприкосновенности Советом Федерации только на основании выдвинутого Государственной Думой обвинения в государственной измене или совершении иного тяжкого преступления, подтвержденного заключением Верховного Суда Российской Федерации о наличии в действиях Президента Российской Федерации, как действующего, так и прекратившего исполнение своих полномочий, признаков преступления и заключением Конституционного Суда Российской Федерации о соблюдении установленного порядка выдвижения обвинения.",type:"article"},{text:"Решение Государственной Думы о выдвижении обвинения и решение Совета Федерации об отрешении Президента Российской Федерации от должности, о лишении неприкосновенности Президента Российской Федерации, прекратившего исполнение своих полномочий, должны быть приняты двумя третями голосов от общего числа соответственно сенаторов Российской Федерации и депутатов Государственной Думы по инициативе не менее одной трети депутатов Государственной Думы и при наличии заключения специальной комиссии, образованной Государственной Думой.",type:"article"},{text:"Решение Совета Федерации об отрешении Президента Российской Федерации от должности, о лишении неприкосновенности Президента Российской Федерации, прекратившего исполнение своих полномочий, должно быть принято не позднее чем в трехмесячный срок после выдвижения Государственной Думой обвинения против Президента Российской Федерации. Если в этот срок решение Совета Федерации не будет принято, обвинение против Президента Российской Федерации, Президента Российской Федерации, прекратившего исполнение своих полномочий, считается отклоненным.",type:"article"},{text:"Статья 79",type:"title"},{text:"Российская Федерация может участвовать в межгосударственных объединениях и передавать им часть своих полномочий в соответствии с международными договорами Российской Федерации, если это не влечет за собой ограничения прав и свобод человека и гражданина и не противоречит основам конституционного строя Российской Федерации. Решения межгосударственных органов, принятые на основании положений международных договоров Российской Федерации в их истолковании, противоречащем Конституции Российской Федерации, не подлежат исполнению в Российской Федерации.",type:"article"}]};function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var d=new(function(){function e(t){var n=t.mainTitle,i=t.sections;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._mainTitle=n,this._sections=i}var t,n,i;return t=e,(n=[{key:"refreshStorage",value:function(e,t){localStorage[e]=JSON.stringify(t)}},{key:"getData",value:function(e){return JSON.parse(localStorage[e])}},{key:"getInitialData",value:function(){return{mainTitle:this.getData("mainTitle"),sections:this.getData("sections")}}},{key:"initialRender",value:function(){localStorage.mainTitle||this.refreshStorage("mainTitle",this._mainTitle),localStorage.sections||this.refreshStorage("sections",this._sections)}}])&&u(t.prototype,n),i&&u(t,i),e}())(s),f=void 0,m=void 0,v=function e(){if(0===Array.from(document.querySelectorAll(".section")).length){var t=new a("Введите текст","article",h,_,e);y.push(t),m.addItem(t.getTextContainer())}},h=function e(t){var n=new a("Введите текст","article",e,_,v);y.push(n),m.addnewItem(n.getTextContainer(),t.target.closest(".section"))},_=function e(t){var n=new a("Заголовок","title",h,e,v);y.push(n),m.addnewItem(n.getTextContainer(),t.target.closest(".section"))},y=[],p=function(){d.initialRender(),f=new c(d.getInitialData().mainTitle,".main-title",".icon"),m=new r({items:d.getInitialData().sections,renderer:function(e){var t=new a(e.text,e.type,h,_,v);y.push(t),this.addItem(t.getTextContainer())}},".content"),f.innitialRender(),m.rednerItems()};function g(){var e=Array.from(document.querySelectorAll(".title, .article")),t=[];e.forEach((function(e){t.push({text:e.textContent,type:e.classList.value})})),d.refreshStorage("sections",t);var n={title:document.querySelector(".main-title").textContent,img:document.querySelector(".icon").getAttribute("src")};d.refreshStorage("mainTitle",n)}p();document.querySelector(".content").addEventListener("drop",(function(e){e.preventDefault();var t=e.dataTransfer.getData("text"),n=e.dataTransfer.getData("class"),i=new a(t,n,h,_,v);y.push(i),m.addnewItem(i.getTextContainer(),e.target.closest(".section")),y.forEach((function(e){e._deleteElement()})),Array.from(document.querySelectorAll(".title, .article")).forEach((function(e){e.closest(".section").classList.remove("section_transformed")})),x(),E()}));var T=function(e){e.target.closest(".section").classList.add("section_transformed")},b=function(e){e.stopPropagation(),e.target.closest(".section").classList.remove("section_transformed")},E=function(){Array.from(document.querySelectorAll(".title, .article")).forEach((function(e){e.addEventListener("dragenter",T),e.addEventListener("dragleave",b)}))},x=function(){Array.from(document.querySelectorAll(".title, .article")).forEach((function(e){e.removeEventListener("dragenter",T),e.removeEventListener("dragleave",b)}))};document.querySelector(".reset").addEventListener("click",(function(e){localStorage.clear(),Array.from(document.querySelectorAll(".title, .article")).forEach((function(e){e.remove()})),p()})),window.addEventListener("beforeunload",g);var S=document.querySelector(".popup__input"),k=document.querySelector(".popup");function w(){k.classList.remove("popup_is-opened")}document.querySelector(".icon").addEventListener("click",(function(){S.value="",k.classList.add("popup_is-opened")})),document.addEventListener("keyup",(function(e){document.querySelector(".popup_is-opened"),"Escape"===e.key&&w()})),document.addEventListener("mousedown",(function(e){e.target.classList.contains("popup")&&w(e.target)})),document.querySelector(".popup__form").addEventListener("submit",(function(e){e.preventDefault(),f.setTitleImage(S.value),w()})),window.addEventListener("beforeunload",g),E()}]);